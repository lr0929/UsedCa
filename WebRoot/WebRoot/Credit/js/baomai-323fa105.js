"use strict";define("page/baomai",["jquery","common/util","data/intent","common/app","jquery.throttle"],function(r,o,e,n){function t(o){var e=r(o).height(),n=r(o).offset().top,t=r(window).scrollTop(),i=r(window).height(),a=!1;return t+i>n&&t<n+e&&(a=!0),a}function i(){function o(){var r=t(e);r?n.fadeOut():n.fadeIn()}var e=r(".js-banner-order"),n=r(".js-fixed-order");o(),r(window).on("scroll",r.throttle(200,o))}function a(e){var n=r(e);if(!n.length)return!1;var t=n.closest(".js-baomai-order"),i=n.val().trim(),a=!0;return i?o.isMobile(i)||(n.attr("placeholder",""),t.find(".js-error-box").show(),a=!1):(n.attr("placeholder",""),t.find(".js-void-error-box").show(),a=!1),a}function s(){var o=r(".js-order-button"),t=r(".js-order-input");o.on("click",function(){var o=r(this).closest(".js-baomai-order"),i=o.find(".js-order-input");a(i)&&!function(){var r={mobile_number:i.val().trim(),city:RRC.cityName,phone_source:RRC.fr,sell_source:"pc端",product:"预约卖车",sub_product:"包卖",plan:"",source:0};e("order_sell",r,function(o){var e=parseInt(o.status,10);return 0!==e?(t.attr("placeholder","提交失败，请重新提交。"),void t.addClass("error")):new n(window.RRC).redirect("/"+RRC.city+"/sales/add_info?mobile_number="+r.mobile_number+"&plan="+r.plan)})}()}),t.on("focus",function(){r(this).closest(".js-baomai-order").find(".js-void-error-box, .js-error-box").hide(),t.attr("placeholder","留下手机号，专业评估师免费上门为您服务")}),r(".js-void-error-box, .js-error-box").on("click",function(){r(this).hide().closest(".js-baomai-order").find(".js-order-input").focus(),t.attr("placeholder","留下手机号，专业评估师免费上门为您服务")})}function d(){i(),s()}return d}),"undefined"==typeof window.__karma__&&require(["page/baomai"],function(r){r()});
//# sourceMappingURL=baomai-323fa105.js.map
