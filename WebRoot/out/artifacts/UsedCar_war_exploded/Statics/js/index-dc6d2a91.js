"use strict";define("page/index",["jquery","log","jquery.throttle"],function(e,t){function n(t,n){t.on("mouseenter",".js-tab-head-list-item",function(){var t=e(this).closest(".js-tab-box"),a=t.children(".js-tab-head"),i=t.children(".js-tab-content"),o=e(this),s=o.data("tab_index");i.children(".js-content-item").hide(),a.find(".js-tab-head-list-item").removeClass("selected");var r=i.children("."+s);r.show(),o.addClass("selected"),"function"==typeof n&&n(o,r)})}function a(){var t=e(".js-finance-car .js-tab-head-list-item"),n=0;setInterval(function(){n=n<t.length?n:0,t.removeClass("selected"),e(".js-finance-car .js-content-item").hide(),e(t[n]).addClass("selected"),e(".finance-lists.js-tab-index-"+n).show(),n++},4e3)}function i(t){e(".index-car-list-wrapper .js-zixun").on("click",function(n){var a=this;n.stopPropagation(),n.preventDefault(),require(["common/appoint"],function(n){n.init({car_id:e(a).data("carId")},{title:"请输入你的手机号",successMessage:t.getPCIntentSuccessTips("zixun"),carTitle:e(a).data("title")},"consult"),n.show()})})}function o(){e(".js-finance-car-more").on("click",function(){var t=e(".js-finance-head-list").find(".selected"),n=t.data("more-url");window.location.href=n})}function s(){RRC.tuancheCity&&RRC.tuancheCity.length&&RRC.tuancheCity.indexOf(RRC.city)>-1&&e(".sale-choice-car-type").show()}function r(){require(["page/search/mark-favorite"],function(e){return e.init(".index-car-list-wrapper","首页")})}function c(t){return!t.isFromBdOther()&&void require(["common/appoint"],function(t){e(".js-appoint").on("click",function(n){n.preventDefault();var a=e("#js-logged-schedule-modal");a.find(".title span").text(e(this).data("title")),t.init({car_id:e(this).data("car-id"),phone_source:e(this).data("phone-source"),token:RRC.csrftoken}),t.show()})})}function l(){require(["common/bargain"],function(e){e.initCarListBargain()})}function d(t){var n=e("#brand_more"),a=e("#brand_more_content");return a.on("mouseover","dt",function(){e(this).siblings("dt").removeClass("active"),e(this).addClass("active"),e(this).siblings("dd").css("display","none"),e(this).next("dd").css("display","block")}),t.browser.iPad?(n.on("touchstart",function(e){n.addClass("active"),a.show(),e.stopPropagation()}),e("body").on("touchstart",function(){n.removeClass("active"),a.hide()}),e(".sub-filter a").on("click touchend",function(){var t=e(this),n=t.attr("href");window.location=n}),!1):(n.mouseover(function(){return e(this).addClass("active"),a.show(),!1}).mouseout(function(){return a.hide(),n.removeClass("active"),!1}),!0)}function u(){if(!e.cookie("rrc_login_token"))return!1;var t=e.cookie("rrc_login_phone");e("#sell_mobile_number").attr("value",t)}function f(){function n(n){var s=e("#common-header-wrapper .telephone_header"),r=e("#common-header-wrapper .log-status"),c=e(".banner-img-"+n),l=c.css("background-color"),d=e(".js-banner-wrapper-item");e(".banner-wrapper .item").css({opacity:"0","z-index":"0"}),c.css({opacity:"1","z-index":"1"});var u=[],f=u[1],m=u[2],p=u[3];if(l){var h=l.match(/\((\d+), (\d+), (\d+)/);f=h[1],m=h[2],p=h[3]}var v="banner-text-white";if(f&&m&&p){var g=(parseInt(f,10)+parseInt(m,10)+parseInt(p,10))/3;g>128&&(v="banner-text-black")}a.removeClass("banner-text-white"),s.removeClass("banner-text-white"),r.removeClass("banner-text-white"),i.removeClass("banner-text-white"),a.removeClass("banner-text-black"),s.removeClass("banner-text-black"),r.removeClass("banner-text-black"),i.removeClass("banner-text-black"),a.addClass(v),s.addClass(v),r.addClass(v),i.addClass(v),o<10&&(o++,t.modulePush(d.find(".js-item")))}var a=e("#common-header-wrapper .header-nav-title"),i=e("#common-header-wrapper .choose-city"),o=0;n(0);var s=0,r=setInterval(function(){5!==s&&s!==e(".banner-item-key").length||(s=0),n(s),s++},3e3);e(".banner-item-key").on("mouseenter",function(){clearInterval(r),s=e(this).data("value"),n(s),s++}),e(".banner-wrapper").mouseenter(function(){clearInterval(r)}).mouseleave(function(){r=setInterval(function(){5!==s&&s!==e(".banner-item-key").length||(s=0),n(s),s++},3e3)})}function m(){function t(t){var n=e(this);a.animate({left:-400*o+"px"},{duration:500,start:function(){n.attr("disabled","disabled")},done:function(){n.removeAttr("disabled"),6===t&&(t=0),l.eq(t/2).addClass("active").siblings().removeClass("active")}})}function n(){clearTimeout(s),s=setInterval(function(){o>=i-2&&(a.css("left","-0px"),o=0),o+=2,t(o)},3e3)}var a=e("#category_owl");e(".category-item:eq(0)").clone().appendTo(a),e(".category-item:eq(1)").clone().appendTo(a);var i=a.find(".category-item").length;a.css("width",400*i+"px");for(var o=0,s=null,r=i/2+i%2,c=0;c<r-1;c++)e('<div class="category-page" data-index="'+c+'" rrc-event-name="switch'+(c+1)+'"><span></span></div>').appendTo(".category-controls");var l=e(".category-page");l.eq(0).addClass("active"),e("#c_next").on("click",function(){o>=i-2&&(a.css("left","-0px"),o=0),o+=2,t(o)}),e("#c_prev").on("click",function(){o<=0&&(a.css("left",(i-2)*-400+"px"),o=i-2),o-=2,t(o)}),l.on("click",function(n){n.preventDefault(),o=2*e(this).data("index"),t(o)}),a.mouseenter(function(){clearTimeout(s)}).mouseleave(function(){n()}),e("#category_panel").mouseenter(function(){clearTimeout(s)}).mouseleave(function(){n()}),n()}function p(){function t(){var t=e("#loudou");1===n?t.css("left","35px").show():2===n?t.css("left","770px").show():t.hide(),e("#banner_1 img").css({opacity:"0","z-index":"0"}).eq(n).css({opacity:"1","z-index":"1"}),e("#buttons div").removeClass("on").eq(n).addClass("on"),2===n?n=0:n++}var n=0,a=setInterval(function(){t()},4e3),i=function(){a=setInterval(function(){t()},4e3)};e("#buttons div").mouseenter(function(){n=e(this).data("value"),t(),clearInterval(a)}).mouseleave(i),e("#banner_1").mouseenter(function(){clearInterval(a)}).mouseleave(i),e(".index-buy-sales-wrapper .index-buy-sales").mouseenter(function(){n=e(this).index()+1,t(),clearInterval(a)}).mouseleave(i)}function h(){e(".js-media-reports-title").mouseenter(function(){var t=e(this).attr("data-value");e(".media-reports").find("ul").hide(),e(".media-reports").find(".media-reports-title").removeClass("active"),e(this).addClass("active"),e("#media-reports-"+t).show()})}function v(){var t=e(".js-order-step").find(".js-tab-box"),i=e(".js-ournews-part").find(".js-tab-box"),o=e(".js-finance-car").find(".js-tab-box"),s=e(".js-finance-car").find(".js-finance-car-more");n(t),n(i),n(o,function(e){var t=e.data("tab_index"),n=t.substring(t.length-1),a=s.attr("rrc-event-expand-tag_position"),i="0-"+n+"-more";i!==a&&s.attr("rrc-event-expand-tag_position",i)}),a()}function g(){var n=!1,a=e(".js-car-list-title");a.length&&!function(){var i=e(".js-car-list-title").find(".tab-head-lists").children("a").children("li"),o=i[0]?i.data("more_position"):"";e(window).on("scroll",e.throttle(200,function(){t._isVisible(a)&&!n&&o&&(t.push(["_trackEvent","indexpage_carrecommend_switch_tab","rrc-pageModule-show","","",{tag_value:o}]),n=!0)}))}()}function _(){var t='\n            <i\n                rrc-event-display="promisesellbanner_display"\n                rrc-page-module\n                rrc-event-expand-value="优选概念条-悬浮条"\n                rrc-event-expand-page_name="首页"\n            ></i>\n        ',n='\n            <i\n                rrc-event-display="promisesellbanner_display"\n                rrc-page-module\n                rrc-event-expand-value="优选概念条-悬浮标签"\n                rrc-event-expand-page_name="首页"\n            ></i>\n        ',a=window.localStorage;a.setItem("floatTag","hide"),"show"===a.getItem("floatTag")?(e(".zhimai_float_tag").css({left:"0%"}),e(".zhimai_float_tag .float_tag_box .tag").css({display:"none"}),e("#pc_zhimai_float_display").append(t)):"hide"===a.getItem("floatTag")&&(e(".zhimai_float_tag").css({left:"-100%"}),e(".zhimai_float_tag .float_tag_box .tag").css({display:"block"}),e(".zhimai_float_tag .float_tag_box .title").css({display:"none"}),e("#pc_zhimai_tag_display").append(n)),e(".zhimai_float_tag .float_tag_box .cancle ").click(function(t){t.preventDefault(),t.stopPropagation(),e(".zhimai_float_tag").animate({left:"-100%"},600,function(){e(".zhimai_float_tag .float_tag_box .tag").css({display:"block"})}),a.setItem("floatTag","hide")}),e(".zhimai_float_tag .float_tag_box .tag>img").click(function(t){t.preventDefault(),e(".zhimai_float_tag").animate({left:"0%"},600,function(){e(".zhimai_float_tag .float_tag_box .tag").css({display:"none"}),e(".zhimai_float_tag .float_tag_box .title").css({display:"block"})}),a.setItem("floatTag","show")})}function b(){require(["common/util","page/index/sale-car","widget/recommend-car-list"],function(t,n,a){g(),s(),r(),c(t),i(t),l(),d(t),u(),f(),m(),p(),n.init(e("#sell_submit")),a.init(),h(),v(),o(),_()})}return{initFilterMore:s,initFavorite:r,initAppoint:c,initBargin:l,initMoreBrands:d,initPlaceholder:u,bannerInit:f,sellerStory:m,initSemBanner:p,init:b}}),"undefined"==typeof window.__karma__&&require(["page/index"],function(e){e.init()});
//# sourceMappingURL=index-dc6d2a91.js.map
